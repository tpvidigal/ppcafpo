from scipy.optimize import linprog as lp_solver
import numpy as np

# Min  Z =  25x_{1,1} + 25x_{1,2} + 25x_{1,3} + 25x_{1,4} + 25x_{1,5}
#          +26x_{2,1} + 26x_{2,2} + 26x_{2,3} + 26x_{2,4} + 26x_{2,5}
#          +24x_{3,1} + 24x_{3,2} + 24x_{3,3} + 24x_{3,4} + 24x_{3,5}
#          +23x_{4,1} + 23x_{4,2} + 23x_{4,3} + 23x_{4,4} + 23x_{4,5}
#          +28x_{5,1} + 28x_{5,2} + 28x_{5,3} + 28x_{5,4} + 28x_{5,5}
#          +30x_{6,1} + 30x_{6,2} + 30x_{6,3} + 30x_{6,4} + 30x_{6,5}
# s.a -1x_{1,1} -1x_{1,2} -1x_{1,3} -1x_{1,4} -1x_{1,5} <= -8
#     -1x_{2,1} -1x_{2,2} -1x_{2,3} -1x_{2,4} -1x_{2,5} <= -8
#     -1x_{3,1} -1x_{3,2} -1x_{3,3} -1x_{3,4} -1x_{3,5} <= -8
#     -1x_{4,1} -1x_{4,2} -1x_{4,3} -1x_{4,4} -1x_{4,5} <= -8
#     -1x_{5,1} -1x_{5,2} -1x_{5,3} -1x_{5,4} -1x_{5,5} <= -7
#     -1x_{6,1} -1x_{6,2} -1x_{6,3} -1x_{6,4} -1x_{6,5} <= -7
#      1x_{1,1} +1x_{2,1} +1x_{3,1} +1x_{4,1} +1x_{5,1} +1x_{6,1} = 14
#      1x_{1,2} +1x_{2,2} +1x_{3,2} +1x_{4,2} +1x_{5,2} +1x_{6,2} = 14
#      1x_{1,3} +1x_{2,3} +1x_{3,3} +1x_{4,3} +1x_{5,3} +1x_{6,3} = 14
#      1x_{1,4} +1x_{2,4} +1x_{3,4} +1x_{4,4} +1x_{5,4} +1x_{6,4} = 14
#      1x_{1,5} +1x_{2,5} +1x_{3,5} +1x_{4,5} +1x_{5,5} +1x_{6,5} = 14
#      0 <= x_{1,1} <= 6
#           x_{1,2}  = 0
#      0 <= x_{1,3} <= 6
#           x_{1,4}  = 0
#      0 <= x_{1,5} <= 6
#           x_{2,1}  = 0
#      0 <= x_{2,2} <= 6
#           x_{2,3}  = 0
#      0 <= x_{2,4} <= 6
#           x_{2,5}  = 0
#      0 <= x_{3,1} <= 4
#      0 <= x_{3,2} <= 8
#      0 <= x_{3,3} <= 4
#           x_{3,4}  = 0
#      0 <= x_{3,5} <= 4
#      0 <= x_{4,1} <= 5
#      0 <= x_{4,2} <= 5
#      0 <= x_{4,3} <= 5
#           x_{4,4}  = 0
#      0 <= x_{4,5} <= 5
#      0 <= x_{5,1} <= 3
#           x_{5,2}  = 0
#      0 <= x_{5,3} <= 3
#      0 <= x_{5,4} <= 8
#           x_{5,5}  = 0
#           x_{6,1}  = 0
#           x_{6,2}  = 0
#           x_{6,3}  = 0
#      0 <= x_{6,4} <= 6
#      0 <= x_{6,5} <= 2

c = [25]*5 + [26]*5 + [24]*5 + [23]*5 + [28]*5 + [30]*5
A_ub = [[-1]*5 + [0]*5 + [0]*5 + [0]*5 + [0]*5 + [0]*5,
        [0]*5 + [-1]*5 + [0]*5 + [0]*5 + [0]*5 + [0]*5,
        [0]*5 + [0]*5 + [-1]*5 + [0]*5 + [0]*5 + [0]*5,
        [0]*5 + [0]*5 + [0]*5 + [-1]*5 + [0]*5 + [0]*5,
        [0]*5 + [0]*5 + [0]*5 + [0]*5 + [-1]*5 + [0]*5,
        [0]*5 + [0]*5 + [0]*5 + [0]*5 + [0]*5 + [-1]*5]
b_ub = [-8, -8, -8, -8, -7, -7]
A_eq = [[1, 0, 0, 0, 0]*6,
        [0, 1, 0, 0, 0]*6,
        [0, 0, 1, 0, 0]*6,
        [0, 0, 0, 1, 0]*6,
        [0, 0, 0, 0, 1]*6]
b_eq = [14, 14, 14, 14, 14]
x11_bounds = (0, 6)
x12_bounds = (0, 0)
x13_bounds = (0, 6)
x14_bounds = (0, 0)
x15_bounds = (0, 6)
x21_bounds = (0, 0)
x22_bounds = (0, 6)
x23_bounds = (0, 0)
x24_bounds = (0, 6)
x25_bounds = (0, 0)
x31_bounds = (0, 4)
x32_bounds = (0, 8)
x33_bounds = (0, 4)
x34_bounds = (0, 0)
x35_bounds = (0, 4)
x41_bounds = (0, 5)
x42_bounds = (0, 5)
x43_bounds = (0, 5)
x44_bounds = (0, 0)
x45_bounds = (0, 5)
x51_bounds = (0, 3)
x52_bounds = (0, 0)
x53_bounds = (0, 3)
x54_bounds = (0, 8)
x55_bounds = (0, 0)
x61_bounds = (0, 0)
x62_bounds = (0, 0)
x63_bounds = (0, 0)
x64_bounds = (0, 6)
x65_bounds = (0, 2)
bounds = [x11_bounds, x12_bounds, x13_bounds, x14_bounds, x15_bounds,
          x21_bounds, x22_bounds, x23_bounds, x24_bounds, x25_bounds,
          x31_bounds, x32_bounds, x33_bounds, x34_bounds, x35_bounds,
          x41_bounds, x42_bounds, x43_bounds, x44_bounds, x45_bounds,
          x51_bounds, x52_bounds, x53_bounds, x54_bounds, x55_bounds,
          x61_bounds, x62_bounds, x63_bounds, x64_bounds, x65_bounds]

res = lp_solver(c=c, A_eq=A_eq, b_eq=b_eq, A_ub=A_ub, b_ub=b_ub, bounds=bounds)
print(res)
print("")
print("Result:", res.fun)
print("X:     \n", np.reshape(res.x, [6, 5]))
